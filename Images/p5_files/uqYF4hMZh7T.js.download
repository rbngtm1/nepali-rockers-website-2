if (self.CavalryLogger) { CavalryLogger.start_js(["skiTV"]); }

__d("TypeaheadList",["fbt","AsyncRequest","CSS","DataStore","DOM","Event","Parent"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k,l,m,n,o){__p&&__p();this.typeahead=j;this.list=k;this.subtitle=c("Parent").byTag(k,"td").firstChild;this.endpoint=l;this.inputName=m;this.added=o;this.count=k.childNodes.length;j.subscribe("select",function(p,q){this.handleSelect(q)}.bind(this));this.removeText=h._("Remove");Object.assign(this,n);c("Event").listen(k,"click",this.handleClick.bind(this))}Object.assign(i.prototype,{handleSelect:function j(k){if(!(k.selected.uid in this.added)){this.updateCount(1);this.addItem(k);this.added[k.selected.uid]=true}},handleClick:function j(k){var l=c("Parent").byTag(k.getTarget(),"a"),m=l&&c("DataStore").get(l,"objectID");if(m){c("DOM").remove(c("Parent").byTag(l,"li"));delete this.added[m];this.save(m,true);this.updateCount(-1)}},addItem:function j(k){var l=this.createItem(k),m=c("DOM").create("a",null,this.removeText);c("DataStore").set(m,"objectID",k.selected.uid);c("DOM").appendContent(l.firstChild,[" ",m]);c("DOM").appendContent(this.list,l);if(this.inputName){var n=c("DOM").create("input",{type:"hidden",value:k.selected.uid,name:this.inputName+"[]"});c("DOM").appendContent(l,n)}this.save(k.selected.uid)},createItem:function j(k){return c("DOM").create("li",null,c("DOM").create("div",{className:"fcb"},c("DOM").create("span",null,k.selected.text)))},updateCount:function j(k){this.count+=k;c("CSS").conditionClass(this.subtitle,"hidden_elem",!!this.count)},save:function j(k,l){if(!this.endpoint)return;new(c("AsyncRequest"))().setURI(this.endpoint).setData({objectID:k,remove:l}).send()}});f.exports=i}),null);
__d("legacy:dom",["DOM"],(function a(b,c,d,e,f,g){b.DOM=c("DOM")}),3);
__d("NotifUserSettingActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:NotifUserSettingActionLoggerConfig",this.$NotifUserSettingActionTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:NotifUserSettingActionLoggerConfig",this.$NotifUserSettingActionTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$NotifUserSettingActionTypedLogger1={};return this};h.prototype.updateData=function(j){this.$NotifUserSettingActionTypedLogger1=babelHelpers["extends"]({},this.$NotifUserSettingActionTypedLogger1,j);return this};h.prototype.setAppID=function(j){this.$NotifUserSettingActionTypedLogger1.app_id=j;return this};h.prototype.setControllerClass=function(j){this.$NotifUserSettingActionTypedLogger1.controller_class=j;return this};h.prototype.setCurState=function(j){this.$NotifUserSettingActionTypedLogger1.cur_state=j;return this};h.prototype.setEntityID=function(j){this.$NotifUserSettingActionTypedLogger1.entity_id=j;return this};h.prototype.setEventType=function(j){this.$NotifUserSettingActionTypedLogger1.event_type=j;return this};h.prototype.setMedium=function(j){this.$NotifUserSettingActionTypedLogger1.medium=j;return this};h.prototype.setNotifType=function(j){this.$NotifUserSettingActionTypedLogger1.notif_type=j;return this};h.prototype.setPrevState=function(j){this.$NotifUserSettingActionTypedLogger1.prev_state=j;return this};h.prototype.setRecipID=function(j){this.$NotifUserSettingActionTypedLogger1.recip_id=j;return this};h.prototype.setSource=function(j){this.$NotifUserSettingActionTypedLogger1.source=j;return this};h.prototype.setWantLess=function(j){this.$NotifUserSettingActionTypedLogger1.want_less=j;return this};var i={app_id:true,controller_class:true,cur_state:true,entity_id:true,event_type:true,medium:true,notif_type:true,prev_state:true,recip_id:true,source:true,want_less:true};f.exports=h}),null);
__d("PrivacySettingsBlocking",[],(function a(b,c,d,e,f,g){var h={setTypeaheadExclusions:function i(j,k){j.getData().setExclusions(k)}};f.exports=h}),null);
__d("PrivacyUserBlockItem",[],(function a(b,c,d,e,f,g){function h(i,j){"use strict";this.elem=j;this.uid_or_email=i}f.exports=h}),null);
__d("PrivacyUserBlockList",["DOM","CSS"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){var k=arguments.length<=2||arguments[2]===undefined?null:arguments[2],l=arguments.length<=3||arguments[3]===undefined?null:arguments[3];"use strict";this.$PrivacyUserBlockList1=i;this.$PrivacyUserBlockList2=j.slice();this.$PrivacyUserBlockList3=k;this.$PrivacyUserBlockList4=l;this.$PrivacyUserBlockList5()}h.prototype.addBlockItem=function(i){"use strict";this.$PrivacyUserBlockList2.push(i);if(this.$PrivacyUserBlockList4!=null&&this.$PrivacyUserBlockList2.length>this.$PrivacyUserBlockList4)this.$PrivacyUserBlockList2.splice(0,this.$PrivacyUserBlockList2.length-this.$PrivacyUserBlockList4);this.$PrivacyUserBlockList5()};h.prototype.removeBlockItem=function(i){"use strict";var j=this.$PrivacyUserBlockList2.length;while(j--)if(this.$PrivacyUserBlockList2[j].uid_or_email==i)this.$PrivacyUserBlockList2.splice(j,1);this.$PrivacyUserBlockList5()};h.prototype.$PrivacyUserBlockList5=function(){"use strict";__p&&__p();if(this.$PrivacyUserBlockList2.length>0){c("DOM").empty(this.$PrivacyUserBlockList1);this.$PrivacyUserBlockList2.forEach(function(i){return c("DOM").appendContent(this.$PrivacyUserBlockList1,i.elem)&&c("CSS").show(i.elem)}.bind(this));if(this.$PrivacyUserBlockList3)c("CSS").hide(this.$PrivacyUserBlockList3);c("CSS").show(this.$PrivacyUserBlockList1)}else{c("CSS").hide(this.$PrivacyUserBlockList1);if(this.$PrivacyUserBlockList3)c("CSS").show(this.$PrivacyUserBlockList3)}};f.exports=h}),null);
__d("PrivacyUserBlockTracker",["DOM","CSS"],(function a(b,c,d,e,f,g){__p&&__p();var h={},i=[],j={addBlockList:function k(l,m){h[l]=m},blockUser:function k(l,m,n){c("CSS").hide(n);c("DOM").appendContent(document.body,n);if(l in h)h[l].addBlockItem(m);j.hideAllDialogs()},unblockUser:function k(l){for(var m in h)h[m].removeBlockItem(l);j.hideAllDialogs()},registerDialogToHideOnNextAction:function k(l){i.push(l)},hideAllDialogs:function k(){i.forEach(function(l){return l.hide()})}};f.exports=j}),null);
__d("XNotificationsRoombaReviewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/settings/notifications/review-updates/",{notif_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}})}),null);
__d("XPartnersPortalMobileSettingsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/mobile/settings/",{carrier_id:{type:"Int"},partner_id:{type:"Int"},portal:{type:"Enum",enumType:1},ref:{type:"Enum",enumType:1},current_tab:{type:"String"}})}),null);
__d("SettingsController",["Arbiter","Banzai","Bootloader","CSS","CurrentUser","DOM","DOMQuery","EducationPromotionTriggerInfo","Event","NotifUserSettingActionTypedLogger","PageTransitions","Parent","Style","URI","XEducationPromotionTriggerRecordController","XNotificationsRoombaReviewController","XPartnersPortalMobileSettingsController","ge"],(function a(b,c,d,e,f,g){__p&&__p();var h=null,i=null;function j(){return new(c("URI"))(window.location.href).getQueryData().tab||"account"}function k(){return new(c("URI"))(window.location.href).getQueryData().section}function l(){return new(c("URI"))(window.location.href).getQueryData().edit_section}function m(){return new(c("URI"))(window.location.href).getQueryData().managed_notif_id}function n(){return new(c("URI"))(window.location).getQueryData().id}function o(){return new(c("URI"))(window.location).getQueryData().partner_id}function p(x){return new(c("URI"))(x).addQueryData({view:null})}function q(x){return c("Parent").byClass(x,"fbSettingsListItem")}function r(x){return c("Parent").byClass(x,"fbSettingsListLink")}function s(x){return c("Parent").byClass(x,"cancel")}function t(){return new(c("URI"))(window.location).getPath()}function u(){return"/pages/edit/"}function v(){return c("XPartnersPortalMobileSettingsController").getURIBuilder().getURI().toString()}var w={init:function x(y,z,A){__p&&__p();this.extra_params=A||{};c("Event").listen(y,"click",function(F){var G=F.getTarget();if(s(G))this.closeEditor()}.bind(this));c("PageTransitions").registerHandler(function(F){__p&&__p();var G=F.getQueryData();if(F.getPath()==t()&&G.tab===j()&&typeof G.view!=="undefined"){c("PageTransitions").transitionComplete();if(G.section){this._currentSection=G.section;c("Arbiter").inform("section_toggle",{action:"expand",section:this._currentSection})}return true}if(G.tab!=j()||F.getPath()!==t()){this._sectionArbiter&&this._sectionArbiter.unsubscribe();this._sectionArbiter=null;this._masherEventHandler&&this._masherEventHandler.remove();this._masherEventHandler=null;this._selectorEventHandler&&this._selectorEventHandler.remove();this._selectorEventHandler=null;if(F.getPath()==="/settings")c("Banzai").post(this._banzaiRoute,{event:"settings_link",exit_point:G.tab+"_settings"});else{var H=F.getPath();if(F.getQueryData().audience_usered)H="composer_link";c("Banzai").post(this._banzaiRoute,{event:"exit_settings_page",exit_point:H})}this._banzaiRoute=null}}.bind(this));var B=k();if(B){var C=z+":"+B;this.scrollToActiveSection(C)}var D=l();if(D)this.maybeOpenDialogForEditSection(D);var E=m();if(E)this.openManagedSettingsDialog(E)},openManagedSettingsDialog:function x(y){var z=c("XNotificationsRoombaReviewController").getURIBuilder().setInt("notif_id",y).getURI();c("Bootloader").loadModules(["AsyncDialog"],function(A){A.bootstrap(z.toString(),null,"dialog")},"SettingsController")},maybeOpenDialogForEditSection:function x(y){var z=document.getElementById(y);if(!z)return;var A=z.querySelector('a[rel="dialog"]');if(A)try{var event=document.createEvent("MouseEvents");event.initMouseEvent("click",true,true);A.dispatchEvent(event)}catch(B){}},scrollToActiveSection:function x(y){var z=document.getElementById(y);if(z)z.scrollIntoView();else setTimeout(function(){this.scrollToActiveSection(y)}.bind(this),250)},getQueryString:function x(y,z){if(z==null)return null;var A=z?z:window.location.href,B=new RegExp("[?&]"+y+"=([^&#]*)","i"),C=B.exec(A);return C?C[1]:null},handleLinkClick:function x(y){__p&&__p();var z=j(),A=k(),B=this.getQueryString("section",y),C=c("CurrentUser").getID();if(z==="notifications"){var D=new(c("NotifUserSettingActionTypedLogger"))().setEventType("settings_page_impression").setSource("web_settings_page").setPrevState(A).setCurState(B).setControllerClass("SettingsController").setWantLess(false).setRecipID(parseInt(C,10));D.log()}if(h&&h.checkUnsaved())return false;if(i!==y)i&&c("CSS").removeClass(i,"async_saving");i=y;var E=y.getAttribute("data-meta"),F=JSON.parse(E);switch(F.rel){case"async":c("Bootloader").loadModules(["AsyncRequest"],function(G){G.bootstrap(F.ajaxify,y)},"SettingsController");break;case"dialog":c("Bootloader").loadModules(["AsyncDialog"],function(G){G.bootstrap(F.ajaxify,y,F.rel)},"SettingsController");break;default:throw new Error('SettingsController.handleLinkClick: Unexpected "rel".')}},updateErrors:function x(y,z){if(h){h.hideErrors();h.showError(y,z)}},hideErrors:function x(){h&&h.hideErrors()},getEditor:function x(){return h},setEditor:function x(y){if(!y||!i||y.contains(i))if(this.closeEditor()!==false){i&&c("PageTransitions").go(p(i.href));i=null;(h=y)&&y.show()}},prepareAndReplaceEditor:function x(y){y.prepare(h.container);h=y},prepareAndSetEditor:function x(y,z,A){var B=q(y);w.setEditor(z.prepare(B,A))},closeEditor:function x(){__p&&__p();if(h&&h.hide()!==false){c("Arbiter").inform("section_toggle",{action:"collapse",section:this._currentSection});if(c("DOM").contains(document.body,h.container)){var y=null,z=t(),A={tab:j()};if(z==u())A.id=n();else if(z==v())A.partner_id=o();for(var B in this.extra_params)if(Object.prototype.hasOwnProperty.call(this.extra_params,B))A[B]=this.extra_params[B];y=new(c("URI"))(z).setQueryData(A);c("PageTransitions").go(p(y))}h=null}return!h},setPreviewForCurrent:function x(y){w.setPreview(h.container,y)},setPreview:function x(y,z){var A=c("DOM").find(q(y),"span.fbSettingsListItemContent");c("DOM").setContent(A,z)},closeAndAnimateEdited:function x(){var y=h.container;w.closeEditor();w.animateEditedListItem(y)},animateEdited:function x(y){w.animateEditedListItem(q(y))},animateEditedListItem:function x(y){__p&&__p();c("Bootloader").loadModules(["Animation"],function(z){__p&&__p();var A=c("DOM").find(y,"span.fbSettingsListItemEdit"),B=c("DOM").find(y,"span.fbSettingsListItemSaved");c("CSS").hide(A);c("CSS").show(B);c("Style").set(A,"opacity",0);new z(r(A)).from("background","#fff8bb").to("background","#fff").duration(1e3).ease(z.ease.begin).ondone(function(){c("CSS").removeClass(y,"fbSettingsListItemEdited");c("Style").set(this.obj,"background","");new z(B).to("color","#fff").duration(500).ease(z.ease.begin).ondone(function(){c("CSS").hide(B);c("Style").set(B,"color","");c("CSS").show(A);new z(A).to("opacity",1).duration(500).ease(z.ease.begin).go()}).go()}).go()},"SettingsController")},registerSectionLogging:function x(y){this._banzaiRoute=y;this._sectionArbiter=c("Arbiter").subscribe("section_toggle",function(z,A){c("Banzai").post(y,{event:A.section+"_"+A.action})}.bind(this))},registerSelectorLogging:function x(y,z,A,B,C){__p&&__p();y=y.getInstance();y.subscribe("open",function(){c("Banzai").post(C,{event:z})});y.subscribe("close",function(){c("Banzai").post(C,{event:A})});y.subscribe("changed",function(){c("Banzai").post(C,{event:B});if(B==="canpost_change")c("Bootloader").loadModules(["AsyncRequest"],function(D){new D().setURI(c("XEducationPromotionTriggerRecordController").getURIBuilder().getURI()).setMethod("POST").setData({timestamps:[c("EducationPromotionTriggerInfo").LAST_UPDATE_TIMELINE_AND_TAGGING_SETTINGS_TIMESTAMP]}).send()},"SettingsController")})},registerNonAdamaSelectorLogging:function x(y,z,A,B,C){this._selectorValue=C;this._selectorEventHandler=c("Event").listen(B,"click",function(){if(c("DOMQuery").scry(B,".openToggler").length===0)c("Banzai").post(y,{event:z});else c("Banzai").post(y,{event:A})})},setComposerNUXText:function x(y,z){var A=c("ge")(y);A&&c("DOM").setContent(A,z)},registerNonAdamaSelectorChange:function x(y,event,z){if(z!=this._selectorValue){this._selectorValue=z;c("Banzai").post(y,{event:event})}},registerMasherLogging:function x(y,event){this._masherEventHandler=c("Event").listen(y,"click",function(){c("Banzai").post("privacy_settings",{event:event})})}};f.exports=w}),null);
__d("XSettingsExitSurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/settings/exit_survey/",{current_tab:{type:"String",required:true}})}),null);
__d("SettingsExitSurvey",["AsyncRequest","Run","XSettingsExitSurveyController"],(function a(b,c,d,e,f,g){var h={launchOnExit:function i(j){var k=c("XSettingsExitSurveyController").getURIBuilder().setString("current_tab",j).getURI();c("Run").onLeave(function(){return new(c("AsyncRequest"))().setURI(k).setAllowCrossPageTransition(true).send()})}};f.exports=h}),null);
__d("SecuritySettingsRouteHandler",["DliteWeb"],(function a(b,c,d,e,f,g){var h={init:function i(){c("DliteWeb").setRouteHandler(function(){return true})}};f.exports=h}),null);
__d("legacy:typeahead-list",["TypeaheadList"],(function a(b,c,d,e,f,g){b.TypeaheadList=c("TypeaheadList")}),3);
__d("SelectorSubmitOnChange",["Parent","submitForm"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._selector=i}h.prototype.enable=function(){"use strict";this._subscription=this._selector.subscribe("change",this._onChange.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._onChange=function(){"use strict";var i=c("Parent").byTag(this._selector.getButton(),"form");i&&c("submitForm")(i)};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);