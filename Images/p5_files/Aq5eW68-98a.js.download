if (self.CavalryLogger) { CavalryLogger.start_js(["ZN\/WK"]); }

__d("CameraPostNoViewsLeft.react",["ix","cx","fbt","React","fbglyph","Image.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";var k=function k(l){var m=j._("You can only see direct photos and videos within 24 hours of opening them."),n=j._("You can only see direct photos and videos one more time after opening them.");return c("React").createElement("div",{className:"_4tkv"},c("React").createElement("div",{className:"_1ael"},c("React").createElement("div",{className:"_d0c"},c("React").createElement(c("Image.react"),{className:"_d0d",src:h("124408")}),c("React").createElement("div",{className:"_d0e"},l.in24hEphExp?m:n))))};f.exports=k}),null);
__d("CameraPostReplyText.react",["cx","React","formatDate","Image.react","TextWithEmoticons.react","Timestamp.react","Tooltip.react"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){var k=j.reply,l=c("React").createElement(c("Tooltip.react"),{tooltip:k.camera_post_message_owner.name,alignH:"right"},c("React").createElement(c("Image.react"),{src:k.camera_post_message_owner.profile_picture.uri,className:"_5_nx"})),m=c("React").createElement(c("Tooltip.react"),{tooltip:c("React").createElement(c("Timestamp.react"),{autoUpdate:true,time:k.time,text:c("formatDate")(k.time,"M j, Y",{utc:true}),className:"_3gpn"}),position:"right"},c("React").createElement("div",{className:"_1gr4"},c("React").createElement("div",{className:"_5_ny"},c("React").createElement(c("TextWithEmoticons.react"),{renderEmoticons:true,renderEmoji:true,text:k.message_text}))));return c("React").createElement("div",{className:"_1gr5"},l,m)};f.exports=i}),null);
__d("CameraPostReplyTexts.react",["cx","fbt","React","createCancelableFunction","requestAnimationFrame","CameraPostReplyText.react","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$CameraPostReplyTexts1=c("createCancelableFunction")(function(){var o=this.refs.replyTexts;o.scrollTop=o.scrollHeight}.bind(this))}m.prototype.componentDidMount=function(){c("requestAnimationFrame")(function(){this.$CameraPostReplyTexts1()}.bind(this))};m.prototype.componentWillUnmount=function(){this.$CameraPostReplyTexts1.cancel()};m.prototype.componentDidUpdate=function(){this.$CameraPostReplyTexts1()};m.prototype.render=function(){__p&&__p();var n=this.props,o=n.replies,p=n.show,q=n.onClickShowReplies,r=n.onClickHideReplies;if(o.length===0)return c("React").createElement("div",{className:"_2njg",ref:"replyTexts"});if(o.length>0&&!p){if(o.length===1)return c("React").createElement("div",{className:"_2njg",ref:"replyTexts"},c("React").createElement(c("ShimButton.react"),{className:"_j39",form:"link",onClick:q},i._("View 1 Reply")));return c("React").createElement("div",{className:"_2njg",ref:"replyTexts"},c("React").createElement(c("ShimButton.react"),{className:"_j39",form:"link",onClick:q},i._("View {number of replies} Replies",[i.param("number of replies",o.length)])))}return c("React").createElement("div",{className:"_2njg",ref:"replyTexts"},o.map(function(s){return c("React").createElement(c("CameraPostReplyText.react"),{reply:s,key:s.id})}),c("React").createElement(c("ShimButton.react"),{className:"_j39",form:"link",onClick:r},i._("Hide Replies")))};f.exports=m}),null);
__d("VideoComponentLiveAudioAnimation.react",["cx","fbt","LiveAudioAnimation","LiveAudioAnimationExperiments","React","ReactDOM","RelayClassic","VideoComponent"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.state={visible:false};this.initialized=false}l.prototype.disable=function(){};l.prototype.componentWillReceiveProps=function(m){if(m&&m.video&&m.video!==this.props.video)if(m.video.isLiveAudioFormat){if(!this.initialized&&c("LiveAudioAnimationExperiments").liveWwwAudioAnimation){new(c("LiveAudioAnimation"))(c("ReactDOM").findDOMNode(this.refs.container),this.vpc);this.initialized=true}this.setState({visible:true})}else this.setState({visible:false})};l.prototype.enable=function(m){this.vpc=m};l.prototype.render=function(){var m=null;if(!c("LiveAudioAnimationExperiments").liveWwwAudioAnimation)m=c("React").createElement("div",{className:"_1tzn"},i._("Audio Broadcast"));return c("React").createElement("div",{ref:"container",className:"_4tes _4ubd"+(!this.state.visible?" hidden_elem":"")},m)};f.exports=c("VideoComponent").createContainer(l,{relayVideoConfig:{fragments:{video:function m(){return function(){return{children:[{alias:"isLiveAudioFormat",fieldName:"is_live_audio_format",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentLiveAudioAnimation_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("DirectCameraPostEphemeralityNUX.react",["cx","fbt","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={nuxShown:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").FB_DIRECT_WEB_EPHEMERALITY)},this.$DirectCameraPostEphemeralityNUX1=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").FB_DIRECT_WEB_EPHEMERALITY);this.setState({nuxShown:false})}.bind(this),o}m.prototype.renderLayers=function(){var n=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.nuxPosition}.bind(this),position:"left",shown:this.state.nuxShown,onCloseButtonClick:this.$DirectCameraPostEphemeralityNUX1,key:"ambientNUX"},"After you close this, you can see it again for the next 24 hours."),o=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.nuxPosition}.bind(this),position:"left",shown:this.state.nuxShown,onCloseButtonClick:this.$DirectCameraPostEphemeralityNUX1,key:"ambientNUX"},i._("After you close this, you can see it one more time within 24 hours."));return this.props.in24hEphExp?n:o};m.prototype.render=function(){return c("React").createElement("div",null,c("React").createElement("div",{ref:"nuxPosition",className:"_s6_"}),this.renderLayers())};f.exports=m}),null);
__d("DirectCameraPost.react",["cx","fbt","React","CameraPostMedia.react","CameraPostOwnerView.react","CameraPostReplyTexts.react","CameraPostReportButton.react","CameraPostSendReply.react","DirectCameraPostEphemeralityNUX.react","VideoPlayerController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(n){__p&&__p();k.constructor.call(this,n);this.$DirectCameraPost2=function(){this.setState({isShowingReplies:false})}.bind(this);this.$DirectCameraPost3=function(){this.setState({isShowingReplies:true})}.bind(this);this.$DirectCameraPost4=function(){this.setState({isReplyFocused:true},this.$DirectCameraPost3)}.bind(this);this.$DirectCameraPost5=function(){this.setState({isReplyFocused:false})}.bind(this);this.$DirectCameraPost1=function(o){this.setState({isPostMuted:!this.state.isPostMuted})}.bind(this);this.state={isShowingReplies:true,isReplyFocused:false,isPostMuted:false}}m.prototype.render=function(){var n=this.props,o=n.cameraPostType,p=n.cameraPostSource,q=n.media,r=n.owner,s=n.time,t=n.replies,u=n.replyProfileName,v=n.replyProfilePic,w=n.userID,x=n.threadID,y=n.onReplyEntered,z=n.participants,A=n.groupName,B=n.in24hEphExp,C=n.satpData,D=this.state,E=D.isShowingReplies,F=D.isPostMuted;return c("React").createElement("div",{className:"_4tkv"},c("React").createElement(c("DirectCameraPostEphemeralityNUX.react"),{in24hEphExp:B}),c("React").createElement(c("CameraPostMedia.react"),{media:q,showOverlay:E&&t.length>0,loop:true,cameraPostType:o,userID:w,threadID:x,isMediaMuted:F,onMuteMouseUp:this.$DirectCameraPost1,satpData:C}),c("React").createElement(c("CameraPostOwnerView.react"),{bucketOwner:r,threadOwner:r,time:s,cameraPostType:o,cameraPostSource:p,participants:z,groupName:A}),c("React").createElement(c("CameraPostReportButton.react"),{threadID:x,contentReportFbt:i._("Report")}),c("React").createElement(c("CameraPostReplyTexts.react"),{onClickHideReplies:this.$DirectCameraPost2,onClickShowReplies:this.$DirectCameraPost3,replies:t,show:E}),c("React").createElement(c("CameraPostSendReply.react"),{cameraPostType:o,focused:this.state.isReplyFocused,onReplyEntered:y,onFocusInput:this.$DirectCameraPost4,onBlurInput:this.$DirectCameraPost5,threadID:x,replyProfileName:u,replyProfilePic:v,userID:w}))};f.exports=m}),null);
__d("CameraPostTheater.react",["CameraPostLoggingEvents","DirectMessagingTypedLogger","React","createCancelableFunction","idx","Random","DirectCameraPost.react","CameraPostNoViewsLeft.react","CameraPostGraphQLAPI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Component,k=1e3,l=1e3;h=babelHelpers.inherits(m,j);i=h&&h.prototype;function m(n){__p&&__p();i.constructor.call(this,n);this.$CameraPostTheater3=function(o){if(o!==""){this.$CameraPostTheater10(o);var p=this.props,q=p.userID,r=p.threadID;c("CameraPostGraphQLAPI").sendDirectReply(q,r,o,this.state.camera_post_type,false).done(this.$CameraPostTheater11)}}.bind(this);this.$CameraPostTheater14=c("createCancelableFunction")(function(){this.setState({isSeen:true})}.bind(this));this.$CameraPostTheater8=c("createCancelableFunction")(function(o){var p,q=(p=o)!=null?(p=p.node)!=null?(p=p.direct_messages)!=null?p.nodes:p:p:p;if(q==null)q=[];q=q.reverse().slice(1);this.setState({replies:q})}.bind(this));this.$CameraPostTheater9=c("createCancelableFunction")(function(o){return false});this.$CameraPostTheater11=c("createCancelableFunction")(function(){this.$CameraPostTheater7()}.bind(this));this.$CameraPostTheater4=c("createCancelableFunction")(function(o){__p&&__p();var p,q,r,s,t,u,v,w,x,y,z,A,B=(p=o)!=null?(p=p.node)!=null?p.camera_post_type:p:p,C=(q=o)!=null?(q=q.node)!=null?q.post_source:q:q,D=(r=o)!=null?(r=r.node)!=null?(r=r.root_message)!=null?r.message_media:r:r:r,E=(s=o)!=null?(s=s.node)!=null?(s=s.root_message)!=null?s.camera_post_message_owner:s:s:s,F=(t=o)!=null?(t=t.node)!=null?t.viewer_replays_left:t:t,G=(u=o)!=null?(u=u.node)!=null?u.latest_message:u:u,H=(v=o)!=null?(v=v.node)!=null?(v=v.root_message)!=null?v.time:v:v:v,I=(w=o)!=null?(w=w.node)!=null?(w=w.direct_participants)!=null?w.nodes:w:w:w,J=(x=o)!=null?(x=x.node)!=null?x.group_name:x:x,K=(y=o)!=null?(y=y.node)!=null?(y=y.root_message)!=null?y.message_text:y:y:y,L=(z=o)!=null?(z=z.node)!=null?(z=z.root_message)!=null?z.www_text_format_metadata:z:z:z,M=(A=o)!=null?(A=A.node)!=null?(A=A.direct_messages)!=null?A.nodes:A:A:A;if(M==null)M=[];M=M.reverse().slice(1);this.setState({camera_post_type:B,post_source:C,message_media:D,camera_post_message_owner:E,time:H,replies:M.length>this.state.replies.length?M:this.state.replies,isLoaded:true,latest_message:G,viewer_replays_left:F,participants:I,group_name:J,message_text:K,www_text_format_metadata:L},function(){if(!this.state.isSeen){var N=this.props.in24hEphExp&&this.state.viewer_replays_left<=1,O=N;if(!O)this.$CameraPostTheater13()}}.bind(this))}.bind(this));this.$CameraPostTheater5=c("createCancelableFunction")(function(o){var p,q;this.setState({replyProfileName:(p=o)!=null?(p=p.me)!=null?p.name:p:p,replyProfilePic:(q=o)!=null?(q=q.me)!=null?(q=q.profile_picture)!=null?q.uri:q:q:q})}.bind(this));this.$CameraPostTheater6=c("createCancelableFunction")(function(o){});this.state={camera_post_type:null,post_source:null,message_media:null,camera_post_message_owner:null,time:null,replies:[],replyProfileName:null,replyProfilePic:null,isLoaded:false,isSeen:false,viewer_replays_left:null,participants:null,group_name:null,www_text_format_metadata:null,message_text:""};this.logSpotlightHide=this.logSpotlightHide.bind(this)}m.prototype.componentDidMount=function(){this.$CameraPostTheater1();this.$CameraPostTheater2()};m.prototype.render=function(){if(!this.state.isLoaded)return null;var n=this.props,o=n.userID,p=n.threadID,q=n.in24hEphExp,r=n.showSATPNativeRender,s=this.state,t=s.camera_post_type,u=s.post_source,v=s.message_media,w=s.camera_post_message_owner,x=s.time,y=s.replies,z=s.replyProfileName,A=s.replyProfilePic,B=s.participants,C=s.group_name,D=s.viewer_replays_left,E=s.www_text_format_metadata,F=s.message_text,G={rootMessageText:F,showSATPNativeRender:r,wwwTextFormatMetadata:E};return D===0?c("React").createElement(c("CameraPostNoViewsLeft.react"),{in24hEphExp:q}):c("React").createElement(c("DirectCameraPost.react"),{cameraPostType:t,cameraPostSource:u,media:v,owner:w,time:x,replies:y,replyProfileName:z,replyProfilePic:A,userID:o,threadID:p,participants:B,groupName:C,onReplyEntered:this.$CameraPostTheater3,in24hEphExp:q,satpData:G})};m.prototype.logSpotlightHide=function(){var n=this.props,o=n.userID,p=n.threadID;new(c("DirectMessagingTypedLogger"))().setCameraPostType(this.state.camera_post_type).setProductSurface("www").setName(c("CameraPostLoggingEvents").DIRECT_VIEWER_CLICKOUT).setThreadID(p).log()};m.prototype.$CameraPostTheater1=function(){c("CameraPostGraphQLAPI").loadThreadFullInformation(this.props.userID,this.props.threadID).done(this.$CameraPostTheater4)};m.prototype.$CameraPostTheater2=function(){c("CameraPostGraphQLAPI").loadUserInfo().done(this.$CameraPostTheater5,this.$CameraPostTheater6)};m.prototype.$CameraPostTheater7=function(){c("CameraPostGraphQLAPI").loadRepliesForThread(this.props.threadID).done(this.$CameraPostTheater8,this.$CameraPostTheater9)};m.prototype.$CameraPostTheater10=function(n){var o=Date.now()/l,p={id:this.$CameraPostTheater12(),camera_post_message_owner:{name:this.state.replyProfileName,profile_picture:{uri:this.state.replyProfilePic}},message_text:n,time:o};if(!this.state.replies)this.setState({replies:[p]});else this.setState({replies:[].concat(this.state.replies,[p])})};m.prototype.$CameraPostTheater12=function(){return Math.floor(c("Random").random()*k)};m.prototype.$CameraPostTheater13=function(){var n,o=this.props,p=o.userID,q=o.threadID,r=((n=this.state.latest_message)!=null?n.id:n)||null;c("CameraPostGraphQLAPI").markThreadSeen(p,q,r,this.state.camera_post_type,this.state.viewer_replays_left).done(this.$CameraPostTheater14)};m.prototype.componentWillUnmount=function(){this.$CameraPostTheater4.cancel();this.$CameraPostTheater14.cancel();this.$CameraPostTheater11.cancel();this.$CameraPostTheater5.cancel();this.$CameraPostTheater6.cancel();this.$CameraPostTheater8.cancel();this.$CameraPostTheater9.cancel()};f.exports=m}),null);
__d("ManagedSpotlightViewer",["ge","DOM","React","ReactDOM","SpotlightViewer","SpotlightViewerClose"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();f.exports={ref:null,bootstrap:function h(i){var j=i.wrappedComponent,k=i.props,l=c("React").createElement(j,babelHelpers["extends"]({},k,{ref:function(m){this.ref=m}.bind(this)}));this.renderComponent(l)},renderComponent:function h(i){__p&&__p();var j=false,k=function(){if(this.ref&&Object.prototype.hasOwnProperty.call(this.ref,"logSpotlightHide")&&!j){this.ref.logSpotlightHide();j=true}c("ReactDOM").unmountComponentAtNode(l);if(document.body&&l.parentNode===document.body)document.body.removeChild(l)}.bind(this),l=c("ge")("spotlight_viewer_container");if(!l){l=c("DOM").create("div",{id:"spotlight_viewer_container"});if(document.body)document.body.appendChild(l)}var m=c("React").createElement(c("SpotlightViewer"),{open:true,onHide:k},c("React").createElement(c("SpotlightViewerClose"),{isFixed:true,position:"right",onClick:k}),i);c("ReactDOM").render(m,l)}}}),null);